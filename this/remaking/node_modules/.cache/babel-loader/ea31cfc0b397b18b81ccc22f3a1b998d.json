{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startCapture = startCapture;\nexports.stopCapture = stopCapture;\n\nvar _handle = _interopRequireWildcard(require(\"@enact/core/handle\"));\n\nvar _snapshot = _interopRequireDefault(require(\"@enact/core/snapshot\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} // Utility to return true if any of the handlers returns true\n\n\nvar any = function any() {\n  for (var _len = arguments.length, handlers = new Array(_len), _key = 0; _key < _len; _key++) {\n    handlers[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return handlers.find(function (fn) {\n      return fn.apply(void 0, args);\n    }) != null;\n  };\n};\n\nvar capturing = false; // If capturing, prevent default behaviors and stop all event propagation\n\nvar handleGlobalKeyDownCapture = (0, _handle[\"default\"])(function () {\n  return capturing;\n}, any((0, _handle.forKey)('cancel'), (0, _handle.forKey)('left'), (0, _handle.forKey)('right'), (0, _handle.forKey)('up'), (0, _handle.forKey)('down'), (0, _handle.forKey)('enter')), _handle.preventDefault, _handle.stop, _handle.stopImmediate);\n(0, _snapshot[\"default\"])(function () {\n  // have to attach a handler immediately in order to get in before core/dispatcher and then use a\n  // module-scoped flag to check further processing. Handling both down (for the key event and\n  // click emulation) and up (for cancelable).\n  document.addEventListener('keydown', handleGlobalKeyDownCapture, {\n    capture: true\n  });\n  document.addEventListener('keyup', handleGlobalKeyDownCapture, {\n    capture: true\n  });\n});\n\nfunction startCapture() {\n  capturing = true;\n}\n\nfunction stopCapture() {\n  capturing = false;\n}","map":{"version":3,"sources":["C:/Users/tak43/remaking/node_modules/@enact/sandstone/internal/Panels/captureKeys.js"],"names":["Object","defineProperty","exports","value","startCapture","stopCapture","_handle","_interopRequireWildcard","require","_snapshot","_interopRequireDefault","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","any","_len","arguments","length","handlers","Array","_key","_len2","args","_key2","find","fn","apply","capturing","handleGlobalKeyDownCapture","forKey","preventDefault","stop","stopImmediate","document","addEventListener","capture"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startCapture = startCapture;\nexports.stopCapture = stopCapture;\n\nvar _handle = _interopRequireWildcard(require(\"@enact/core/handle\"));\n\nvar _snapshot = _interopRequireDefault(require(\"@enact/core/snapshot\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// Utility to return true if any of the handlers returns true\nvar any = function any() {\n  for (var _len = arguments.length, handlers = new Array(_len), _key = 0; _key < _len; _key++) {\n    handlers[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return handlers.find(function (fn) {\n      return fn.apply(void 0, args);\n    }) != null;\n  };\n};\n\nvar capturing = false; // If capturing, prevent default behaviors and stop all event propagation\n\nvar handleGlobalKeyDownCapture = (0, _handle[\"default\"])(function () {\n  return capturing;\n}, any((0, _handle.forKey)('cancel'), (0, _handle.forKey)('left'), (0, _handle.forKey)('right'), (0, _handle.forKey)('up'), (0, _handle.forKey)('down'), (0, _handle.forKey)('enter')), _handle.preventDefault, _handle.stop, _handle.stopImmediate);\n(0, _snapshot[\"default\"])(function () {\n  // have to attach a handler immediately in order to get in before core/dispatcher and then use a\n  // module-scoped flag to check further processing. Handling both down (for the key event and\n  // click emulation) and up (for cancelable).\n  document.addEventListener('keydown', handleGlobalKeyDownCapture, {\n    capture: true\n  });\n  document.addEventListener('keyup', handleGlobalKeyDownCapture, {\n    capture: true\n  });\n});\n\nfunction startCapture() {\n  capturing = true;\n}\n\nfunction stopCapture() {\n  capturing = false;\n}"]},"metadata":{},"sourceType":"module"}