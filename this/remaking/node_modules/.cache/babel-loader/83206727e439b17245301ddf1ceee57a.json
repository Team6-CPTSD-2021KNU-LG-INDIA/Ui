{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useScroll = exports.dataIndexAttribute = exports.affordanceSize = exports[\"default\"] = void 0;\n\nvar _handle = require(\"@enact/core/handle\");\n\nvar _platform = _interopRequireDefault(require(\"@enact/core/platform\"));\n\nvar _spotlight = _interopRequireDefault(require(\"@enact/spotlight\"));\n\nvar _Spottable = require(\"@enact/spotlight/Spottable\");\n\nvar _target = require(\"@enact/spotlight/src/target\");\n\nvar _utils = require(\"@enact/spotlight/src/utils\");\n\nvar _useScroll = require(\"@enact/ui/useScroll\");\n\nvar _utilDOM = _interopRequireDefault(require(\"@enact/ui/useScroll/utilDOM\"));\n\nvar _utilEvent = _interopRequireDefault(require(\"@enact/ui/useScroll/utilEvent\"));\n\nvar _react = require(\"react\");\n\nvar _$L = _interopRequireDefault(require(\"../internal/$L\"));\n\nvar _SharedStateDecorator = require(\"../internal/SharedStateDecorator\");\n\nvar _useThemeScrollContentHandle = require(\"./useThemeScrollContentHandle\");\n\nvar _useEvent = require(\"./useEvent\");\n\nvar _useOverscrollEffect2 = _interopRequireDefault(require(\"./useOverscrollEffect\"));\n\nvar _useSpotlight = require(\"./useSpotlight\");\n\nvar _OverscrollEffectModule = _interopRequireDefault(require(\"./OverscrollEffect.module.css\"));\n\nvar _useScrollModule = _interopRequireDefault(require(\"./useScroll.module.css\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar arrowKeyMultiplier = 0.2,\n    affordanceSize = 48,\n    paginationPageMultiplier = _useScroll.constants.paginationPageMultiplier,\n    reverseDirections = {\n  down: 'up',\n  up: 'down'\n};\n/**\n * The name of a custom attribute which indicates the index of an item in\n * [VirtualList]{@link sandstone/VirtualList.VirtualList} or\n * [VirtualGridList]{@link sandstone/VirtualList.VirtualGridList}.\n *\n * @constant dataIndexAttribute\n * @memberof sandstone/useScroll\n * @type {String}\n * @private\n */\n\nexports.affordanceSize = affordanceSize;\nvar dataIndexAttribute = 'data-index';\nexports.dataIndexAttribute = dataIndexAttribute;\n\nvar isIntersecting = function isIntersecting(elem, container) {\n  return elem && (0, _utils.intersects)((0, _utils.getRect)(container), (0, _utils.getRect)(elem));\n};\n\nvar getIntersectingElement = function getIntersectingElement(elem, container) {\n  return isIntersecting(elem, container) && elem;\n};\n\nvar getTargetInViewByDirectionFromPosition = function getTargetInViewByDirectionFromPosition(direction, position, container) {\n  var target = (0, _target.getTargetByDirectionFromPosition)(direction, position, _spotlight[\"default\"].getActiveContainer());\n  return getIntersectingElement(target, container);\n};\n\nvar useThemeScroll = function useThemeScroll(props, instances) {\n  var scrollbarTrackCss = props.scrollbarTrackCss,\n      scrollMode = props.scrollMode;\n  var themeScrollContentHandle = instances.themeScrollContentHandle,\n      scrollContentRef = instances.scrollContentRef,\n      scrollContainerHandle = instances.scrollContainerHandle,\n      scrollContainerRef = instances.scrollContainerRef;\n  var contextSharedState = (0, _react.useContext)(_SharedStateDecorator.SharedState); // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    animateOnFocus: true,\n    indexToFocus: null,\n    isWheeling: false,\n    lastScrollPositionOnFocus: null,\n    nodeToFocus: null,\n    pointToFocus: null\n  }); // Hooks\n\n  (0, _useSpotlight.useSpotlightRestore)(props, instances);\n\n  var _useOverscrollEffect = (0, _useOverscrollEffect2[\"default\"])({}, instances),\n      applyOverscrollEffect = _useOverscrollEffect.applyOverscrollEffect,\n      checkAndApplyOverscrollEffectByDirection = _useOverscrollEffect.checkAndApplyOverscrollEffectByDirection,\n      clearOverscrollEffect = _useOverscrollEffect.clearOverscrollEffect;\n\n  var _useEventWheel = (0, _useEvent.useEventWheel)(props, _objectSpread(_objectSpread({}, instances), {}, {\n    spottable: mutableRef\n  })),\n      handleWheel = _useEventWheel.handleWheel;\n\n  var _useEventFocus = (0, _useEvent.useEventFocus)(props, _objectSpread(_objectSpread({}, instances), {}, {\n    spottable: mutableRef\n  })),\n      calculateAndScrollTo = _useEventFocus.calculateAndScrollTo,\n      handleFocus = _useEventFocus.handleFocus,\n      hasFocus = _useEventFocus.hasFocus;\n\n  var _useEventKey = (0, _useEvent.useEventKey)(props, _objectSpread(_objectSpread({}, instances), {}, {\n    spottable: mutableRef\n  }), {\n    checkAndApplyOverscrollEffectByDirection: checkAndApplyOverscrollEffectByDirection,\n    hasFocus: hasFocus,\n    isContent: isContent\n  }),\n      handleKeyDown = _useEventKey.handleKeyDown,\n      lastPointer = _useEventKey.lastPointer,\n      scrollByPageOnPointerMode = _useEventKey.scrollByPageOnPointerMode;\n\n  (0, _useEvent.useEventMonitor)({}, instances, {\n    lastPointer: lastPointer,\n    scrollByPageOnPointerMode: scrollByPageOnPointerMode\n  });\n\n  var _useEventMouse = (0, _useEvent.useEventMouse)({}, instances),\n      handleFlick = _useEventMouse.handleFlick,\n      handleMouseDown = _useEventMouse.handleMouseDown;\n\n  var _useEventTouch = (0, _useEvent.useEventTouch)(),\n      handleTouchStart = _useEventTouch.handleTouchStart;\n\n  var _useEventVoice = (0, _useEvent.useEventVoice)(props, instances),\n      addVoiceEventListener = _useEventVoice.addVoiceEventListener,\n      removeVoiceEventListener = _useEventVoice.removeVoiceEventListener,\n      stopVoice = _useEventVoice.stopVoice;\n\n  var scrollbarProps = {\n    cbAlertScrollbarTrack: alertScrollbarTrack,\n    onInteractionForScroll: onInteractionForScroll,\n    scrollbarTrackCss: scrollbarTrackCss\n  }; // Functions\n\n  function isContent(element) {\n    return element && _utilDOM[\"default\"].containsDangerously(scrollContentRef, element);\n  }\n\n  function scrollTo(opt) {\n    mutableRef.current.indexToFocus = opt.focus && typeof opt.index === 'number' ? opt.index : null;\n    mutableRef.current.nodeToFocus = opt.focus && opt.node instanceof Object && opt.node.nodeType === 1 ? opt.node : null;\n  }\n\n  function start(animate) {\n    if (scrollMode === 'native' && !animate) {\n      focusOnItem();\n    }\n  }\n\n  function stop() {\n    if (!props['data-spotlight-container-disabled']) {\n      themeScrollContentHandle.current.setContainerDisabled(false);\n    }\n\n    if (themeScrollContentHandle.current.pauseSpotlight) {\n      themeScrollContentHandle.current.pauseSpotlight(false);\n    }\n\n    focusOnItem();\n    mutableRef.current.lastScrollPositionOnFocus = null;\n    mutableRef.current.isWheeling = false;\n    stopVoice();\n  }\n\n  function scrollStopOnScroll() {\n    stop();\n  }\n\n  function onInteractionForScroll(_ref) {\n    var inputType = _ref.inputType,\n        isForward = _ref.isForward,\n        isPagination = _ref.isPagination,\n        isVerticalScrollBar = _ref.isVerticalScrollBar;\n    var wheelDirection = scrollContainerHandle.current.wheelDirection,\n        bounds = scrollContainerHandle.current.getScrollBounds(),\n        direction = isForward ? 1 : -1,\n        pageSize = isVerticalScrollBar ? bounds.clientHeight : bounds.clientWidth,\n        distance = pageSize * (isPagination ? paginationPageMultiplier : arrowKeyMultiplier);\n    scrollContainerHandle.current.lastInputType = inputType;\n\n    if (direction !== wheelDirection) {\n      scrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n      scrollContainerHandle.current.wheelDirection = direction;\n    }\n\n    scrollContainerHandle.current.scrollToAccumulatedTarget(direction * distance, isVerticalScrollBar, props.overscrollEffectOn[inputType]);\n  }\n\n  function alertScrollbarTrack() {\n    var bounds = scrollContainerHandle.current.getScrollBounds();\n    scrollContainerHandle.current.showScrollbarTrack(bounds);\n    scrollContainerHandle.current.startHidingScrollbarTrack();\n  }\n\n  function focusOnItem() {\n    if (mutableRef.current.indexToFocus !== null && typeof themeScrollContentHandle.current.focusByIndex === 'function') {\n      themeScrollContentHandle.current.focusByIndex(mutableRef.current.indexToFocus);\n      mutableRef.current.indexToFocus = null;\n    }\n\n    if (mutableRef.current.nodeToFocus !== null && typeof themeScrollContentHandle.current.focusOnNode === 'function') {\n      themeScrollContentHandle.current.focusOnNode(mutableRef.current.nodeToFocus);\n      mutableRef.current.nodeToFocus = null;\n    }\n\n    if (mutableRef.current.pointToFocus !== null) {\n      // no need to focus on pointer mode\n      if (!_spotlight[\"default\"].getPointerMode()) {\n        var _mutableRef$current$p = mutableRef.current.pointToFocus,\n            direction = _mutableRef$current$p.direction,\n            x = _mutableRef$current$p.x,\n            y = _mutableRef$current$p.y,\n            position = {\n          x: x,\n          y: y\n        },\n            elemFromPoint = document.elementFromPoint(x, y),\n            target = elemFromPoint && elemFromPoint.closest && getIntersectingElement(elemFromPoint.closest(\".\".concat(_Spottable.spottableClass)), scrollContainerRef.current) || getTargetInViewByDirectionFromPosition(direction, position, scrollContainerRef.current) || getTargetInViewByDirectionFromPosition(reverseDirections[direction], position, scrollContainerRef.current);\n\n        if (target) {\n          _spotlight[\"default\"].focus(target);\n        }\n      }\n\n      mutableRef.current.pointToFocus = null;\n    }\n  }\n\n  function handleScroll(ev) {\n    var x = ev.scrollLeft,\n        y = ev.scrollTop,\n        id = props.id;\n    (0, _handle.forward)('onScroll', ev, props);\n\n    if (id && contextSharedState && contextSharedState.set) {\n      contextSharedState.set(ev, props);\n      contextSharedState.set(\"\".concat(id, \".scrollPosition\"), {\n        x: x,\n        y: y\n      });\n    }\n  } // Callback for scroller updates; calculate and, if needed, scroll to new position based on focused item.\n\n\n  function handleScrollerUpdate() {\n    if (scrollContainerHandle.current.scrollToInfo === null) {\n      var scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\n      if (scrollHeight !== scrollContainerHandle.current.bounds.scrollHeight) {\n        calculateAndScrollTo();\n      }\n    } // oddly, Scroller manages scrollContainerHandle.current.bounds so if we don't update it here (it is also\n    // updated in calculateAndScrollTo but we might not have made it to that point), it will be\n    // out of date when we land back in this method next time.\n\n\n    scrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n  }\n\n  function handleResizeWindow() {\n    var focusedItem = _spotlight[\"default\"].getCurrent();\n\n    if (focusedItem) {\n      focusedItem.blur();\n    }\n  } // FIXME setting event handlers directly to work on the V8 snapshot.\n\n\n  function addEventListeners(ref) {\n    // `ref` is always `scrollContentRef`.\n    (0, _utilEvent[\"default\"])('focusin').addEventListener(ref, handleFocus);\n\n    if (ref.current) {\n      addVoiceEventListener(ref);\n    }\n  } // FIXME setting event handlers directly to work on the V8 snapshot.\n\n\n  function removeEventListeners(ref) {\n    // `ref` is always `scrollContentRef`.\n    (0, _utilEvent[\"default\"])('focusin').removeEventListener(ref, handleFocus);\n\n    if (ref.current) {\n      removeVoiceEventListener(ref);\n    }\n  } // Return\n\n\n  return {\n    addEventListeners: addEventListeners,\n    applyOverscrollEffect: applyOverscrollEffect,\n    clearOverscrollEffect: clearOverscrollEffect,\n    handleFlick: handleFlick,\n    handleKeyDown: handleKeyDown,\n    handleMouseDown: handleMouseDown,\n    handleResizeWindow: handleResizeWindow,\n    handleScroll: handleScroll,\n    handleScrollerUpdate: handleScrollerUpdate,\n    handleTouchStart: handleTouchStart,\n    handleWheel: handleWheel,\n    removeEventListeners: removeEventListeners,\n    scrollbarProps: scrollbarProps,\n    scrollStopOnScroll: scrollStopOnScroll,\n    scrollTo: scrollTo,\n    start: start,\n    stop: stop\n  };\n};\n/**\n * A custom hook that passes Sandstone-themed scrollable behavior information as its render prop.\n *\n * @class\n * @memberof sandstone/useScroll\n * @ui\n * @private\n */\n\n\nvar useScroll = function useScroll(props) {\n  var className = props.className,\n      spotlightContainer = props['data-spotlight-container'],\n      spotlightContainerDisabled = props['data-spotlight-container-disabled'],\n      spotlightId = props['data-spotlight-id'],\n      focusableScrollbar = props.focusableScrollbar,\n      fadeOut = props.fadeOut,\n      horizontalScrollThumbAriaLabel = props.horizontalScrollThumbAriaLabel,\n      noAffordance = props.noAffordance,\n      scrollMode = props.scrollMode,\n      snapToCenter = props.snapToCenter,\n      style = props.style,\n      verticalScrollThumbAriaLabel = props.verticalScrollThumbAriaLabel,\n      rest = _objectWithoutProperties(props, [\"className\", \"data-spotlight-container\", \"data-spotlight-container-disabled\", \"data-spotlight-id\", \"focusableScrollbar\", \"fadeOut\", \"horizontalScrollThumbAriaLabel\", \"noAffordance\", \"scrollMode\", \"snapToCenter\", \"style\", \"verticalScrollThumbAriaLabel\"]);\n\n  delete rest.scrollbarTrackCss; // Mutable value\n\n  var scrollContainerRef = (0, _react.useRef)();\n  var scrollContentHandle = (0, _react.useRef)();\n  var scrollContentRef = (0, _react.useRef)();\n  var itemRefs = (0, _react.useRef)([]);\n  var horizontalScrollbarHandle = (0, _react.useRef)();\n  var verticalScrollbarHandle = (0, _react.useRef)(); // Handles\n\n  var _useThemeScrollConten = (0, _useThemeScrollContentHandle.useThemeScrollContentHandle)(),\n      _useThemeScrollConten2 = _slicedToArray(_useThemeScrollConten, 2),\n      themeScrollContentHandle = _useThemeScrollConten2[0],\n      setThemeScrollContentHandle = _useThemeScrollConten2[1];\n\n  var scrollContainerHandle = (0, _react.useRef)({\n    animator: null,\n    applyOverscrollEffect: null,\n    bounds: null,\n    calculateDistanceByWheel: null,\n    canScrollHorizontally: null,\n    canScrollVertically: null,\n    checkAndApplyOverscrollEffect: null,\n    getScrollBounds: null,\n    isDragging: null,\n    isScrollAnimationTargetAccumulated: null,\n    lastInputType: null,\n    rtl: null,\n    scrollBounds: null,\n    scrollHeight: null,\n    scrolling: null,\n    scrollLeft: null,\n    scrollPos: null,\n    scrollTo: null,\n    scrollToAccumulatedTarget: null,\n    scrollToInfo: null,\n    scrollTop: null,\n    setOverscrollStatus: null,\n    showScrollbarTrack: null,\n    start: null,\n    startHidingScrollbarTrack: null,\n    stop: null,\n    wheelDirection: null\n  });\n\n  var setScrollContainerHandle = function setScrollContainerHandle(handle) {\n    scrollContainerHandle.current = handle;\n  }; // Hooks\n\n\n  var instance = {\n    // Ref\n    scrollContainerRef: scrollContainerRef,\n    scrollContentRef: scrollContentRef,\n    // Adapter\n    themeScrollContentHandle: themeScrollContentHandle,\n    scrollContainerHandle: scrollContainerHandle,\n    scrollContentHandle: scrollContentHandle\n  };\n  var collectionOfProperties = {},\n      assignProperties = (0, _useScroll.assignPropertiesOf)(collectionOfProperties),\n      scrollProps = {};\n\n  var _useThemeScroll = useThemeScroll(props, instance),\n      addEventListeners = _useThemeScroll.addEventListeners,\n      applyOverscrollEffect = _useThemeScroll.applyOverscrollEffect,\n      clearOverscrollEffect = _useThemeScroll.clearOverscrollEffect,\n      handleFlick = _useThemeScroll.handleFlick,\n      handleKeyDown = _useThemeScroll.handleKeyDown,\n      handleMouseDown = _useThemeScroll.handleMouseDown,\n      handleResizeWindow = _useThemeScroll.handleResizeWindow,\n      handleScroll = _useThemeScroll.handleScroll,\n      handleScrollerUpdate = _useThemeScroll.handleScrollerUpdate,\n      handleTouchStart = _useThemeScroll.handleTouchStart,\n      handleWheel = _useThemeScroll.handleWheel,\n      removeEventListeners = _useThemeScroll.removeEventListeners,\n      scrollbarProps = _useThemeScroll.scrollbarProps,\n      scrollStopOnScroll = _useThemeScroll.scrollStopOnScroll,\n      scrollTo = _useThemeScroll.scrollTo,\n      start = _useThemeScroll.start,\n      stop = _useThemeScroll.stop; // Render\n\n\n  if (scrollMode === 'translate') {\n    scrollProps.stop = stop;\n  } else {\n    scrollProps.scrollStopOnScroll = scrollStopOnScroll;\n    scrollProps.start = start;\n  }\n\n  var _useScrollBase = (0, _useScroll.useScrollBase)(_objectSpread(_objectSpread(_objectSpread({}, rest), scrollProps), {}, {\n    assignProperties: assignProperties,\n    noScrollByDrag: !_platform[\"default\"].touchscreen,\n    addEventListeners: addEventListeners,\n    applyOverscrollEffect: applyOverscrollEffect,\n    clearOverscrollEffect: clearOverscrollEffect,\n    handleResizeWindow: handleResizeWindow,\n    horizontalScrollbarHandle: horizontalScrollbarHandle,\n    onFlick: handleFlick,\n    onKeyDown: handleKeyDown,\n    onMouseDown: handleMouseDown,\n    onScroll: handleScroll,\n    onWheel: handleWheel,\n    removeEventListeners: removeEventListeners,\n    scrollTo: scrollTo,\n    setScrollContainerHandle: setScrollContainerHandle,\n    scrollMode: scrollMode,\n    scrollContentHandle: scrollContentHandle,\n    scrollContentRef: scrollContentRef,\n    scrollContainerRef: scrollContainerRef,\n    snapToCenter: snapToCenter,\n    spotlightContainerDisabled: spotlightContainerDisabled,\n    verticalScrollbarHandle: verticalScrollbarHandle\n  })),\n      isHorizontalScrollbarVisible = _useScrollBase.isHorizontalScrollbarVisible,\n      isVerticalScrollbarVisible = _useScrollBase.isVerticalScrollbarVisible,\n      scrollContentWrapper = _useScrollBase.scrollContentWrapper,\n      scrollObserver = _useScrollBase.scrollObserver;\n\n  assignProperties('scrollContainerProps', {\n    className: [className, _useScrollModule[\"default\"].scroll, _OverscrollEffectModule[\"default\"].scroll, focusableScrollbar ? _useScrollModule[\"default\"].focusableScrollbar : null, focusableScrollbar && isVerticalScrollbarVisible ? _useScrollModule[\"default\"].verticalPadding : null, isVerticalScrollbarVisible && isHorizontalScrollbarVisible ? _useScrollModule[\"default\"].bidirectional : null],\n    style: style,\n    'data-spotlight-container': spotlightContainer,\n    'data-spotlight-container-disabled': spotlightContainerDisabled,\n    'data-spotlight-id': spotlightId,\n    onTouchStart: handleTouchStart,\n    ref: scrollContainerRef\n  });\n  assignProperties('scrollContentProps', _objectSpread(_objectSpread({}, props.itemRenderer ? {\n    itemRefs: itemRefs,\n    noAffordance: noAffordance,\n    snapToCenter: snapToCenter\n  } : {\n    fadeOut: fadeOut\n  }), {}, {\n    className: [props.direction === 'both' || props.direction === 'vertical' ? _OverscrollEffectModule[\"default\"].vertical : _OverscrollEffectModule[\"default\"].horizontal, _useScrollModule[\"default\"].scrollContent],\n    onUpdate: handleScrollerUpdate,\n    scrollContainerRef: scrollContainerRef,\n    setThemeScrollContentHandle: setThemeScrollContentHandle,\n    spotlightId: spotlightId,\n    scrollContainerHandle: scrollContainerHandle,\n    scrollContentHandle: scrollContentHandle,\n    scrollContentRef: scrollContentRef\n  }));\n  assignProperties('horizontalScrollbarProps', _objectSpread(_objectSpread({}, scrollbarProps), {}, {\n    'aria-label': horizontalScrollThumbAriaLabel == null ? (0, _$L[\"default\"])('scroll left or right with left right button') : horizontalScrollThumbAriaLabel,\n    className: [_useScrollModule[\"default\"].horizontalScrollbar],\n    focusableScrollbar: focusableScrollbar,\n    scrollbarHandle: horizontalScrollbarHandle\n  }));\n  assignProperties('verticalScrollbarProps', _objectSpread(_objectSpread({}, scrollbarProps), {}, {\n    'aria-label': verticalScrollThumbAriaLabel == null ? (0, _$L[\"default\"])('scroll up or down with up down button') : verticalScrollThumbAriaLabel,\n    className: [_useScrollModule[\"default\"].verticalScrollbar],\n    focusableScrollbar: focusableScrollbar,\n    scrollbarHandle: verticalScrollbarHandle\n  }));\n  assignProperties('hoverToScrollProps', {\n    scrollContainerHandle: scrollContainerHandle,\n    scrollObserver: scrollObserver\n  });\n  return _objectSpread(_objectSpread({}, collectionOfProperties), {}, {\n    scrollContentWrapper: scrollContentWrapper,\n    scrollContentHandle: scrollContentHandle,\n    isHorizontalScrollbarVisible: isHorizontalScrollbarVisible,\n    isVerticalScrollbarVisible: isVerticalScrollbarVisible\n  });\n};\n\nexports.useScroll = useScroll;\nvar _default = useScroll;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["C:/Users/tak43/remaking/node_modules/@enact/sandstone/useScroll/useScroll.js"],"names":["Object","defineProperty","exports","value","useScroll","dataIndexAttribute","affordanceSize","_handle","require","_platform","_interopRequireDefault","_spotlight","_Spottable","_target","_utils","_useScroll","_utilDOM","_utilEvent","_react","_$L","_SharedStateDecorator","_useThemeScrollContentHandle","_useEvent","_useOverscrollEffect2","_useSpotlight","_OverscrollEffectModule","_useScrollModule","obj","__esModule","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_arr","_n","_d","_s","_e","next","done","push","err","isArray","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","arrowKeyMultiplier","paginationPageMultiplier","constants","reverseDirections","down","up","isIntersecting","elem","container","intersects","getRect","getIntersectingElement","getTargetInViewByDirectionFromPosition","direction","position","getTargetByDirectionFromPosition","getActiveContainer","useThemeScroll","props","instances","scrollbarTrackCss","scrollMode","themeScrollContentHandle","scrollContentRef","scrollContainerHandle","scrollContainerRef","contextSharedState","useContext","SharedState","mutableRef","useRef","animateOnFocus","indexToFocus","isWheeling","lastScrollPositionOnFocus","nodeToFocus","pointToFocus","useSpotlightRestore","_useOverscrollEffect","applyOverscrollEffect","checkAndApplyOverscrollEffectByDirection","clearOverscrollEffect","_useEventWheel","useEventWheel","spottable","handleWheel","_useEventFocus","useEventFocus","calculateAndScrollTo","handleFocus","hasFocus","_useEventKey","useEventKey","isContent","handleKeyDown","lastPointer","scrollByPageOnPointerMode","useEventMonitor","_useEventMouse","useEventMouse","handleFlick","handleMouseDown","_useEventTouch","useEventTouch","handleTouchStart","_useEventVoice","useEventVoice","addVoiceEventListener","removeVoiceEventListener","stopVoice","scrollbarProps","cbAlertScrollbarTrack","alertScrollbarTrack","onInteractionForScroll","element","containsDangerously","scrollTo","opt","current","focus","index","node","nodeType","start","animate","focusOnItem","stop","setContainerDisabled","pauseSpotlight","scrollStopOnScroll","_ref","inputType","isForward","isPagination","isVerticalScrollBar","wheelDirection","bounds","getScrollBounds","pageSize","clientHeight","clientWidth","distance","lastInputType","isScrollAnimationTargetAccumulated","scrollToAccumulatedTarget","overscrollEffectOn","showScrollbarTrack","startHidingScrollbarTrack","focusByIndex","focusOnNode","getPointerMode","_mutableRef$current$p","x","y","elemFromPoint","document","elementFromPoint","closest","concat","spottableClass","handleScroll","ev","scrollLeft","scrollTop","id","forward","set","handleScrollerUpdate","scrollToInfo","scrollHeight","handleResizeWindow","focusedItem","getCurrent","blur","addEventListeners","ref","addEventListener","removeEventListeners","removeEventListener","className","spotlightContainer","spotlightContainerDisabled","spotlightId","focusableScrollbar","fadeOut","horizontalScrollThumbAriaLabel","noAffordance","snapToCenter","style","verticalScrollThumbAriaLabel","rest","scrollContentHandle","itemRefs","horizontalScrollbarHandle","verticalScrollbarHandle","_useThemeScrollConten","useThemeScrollContentHandle","_useThemeScrollConten2","setThemeScrollContentHandle","animator","calculateDistanceByWheel","canScrollHorizontally","canScrollVertically","checkAndApplyOverscrollEffect","isDragging","rtl","scrollBounds","scrolling","scrollPos","setOverscrollStatus","setScrollContainerHandle","handle","instance","collectionOfProperties","assignProperties","assignPropertiesOf","scrollProps","_useThemeScroll","_useScrollBase","useScrollBase","noScrollByDrag","touchscreen","onFlick","onKeyDown","onMouseDown","onScroll","onWheel","isHorizontalScrollbarVisible","isVerticalScrollbarVisible","scrollContentWrapper","scrollObserver","scroll","verticalPadding","bidirectional","onTouchStart","itemRenderer","vertical","horizontal","scrollContent","onUpdate","horizontalScrollbar","scrollbarHandle","verticalScrollbar","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useScroll = exports.dataIndexAttribute = exports.affordanceSize = exports[\"default\"] = void 0;\n\nvar _handle = require(\"@enact/core/handle\");\n\nvar _platform = _interopRequireDefault(require(\"@enact/core/platform\"));\n\nvar _spotlight = _interopRequireDefault(require(\"@enact/spotlight\"));\n\nvar _Spottable = require(\"@enact/spotlight/Spottable\");\n\nvar _target = require(\"@enact/spotlight/src/target\");\n\nvar _utils = require(\"@enact/spotlight/src/utils\");\n\nvar _useScroll = require(\"@enact/ui/useScroll\");\n\nvar _utilDOM = _interopRequireDefault(require(\"@enact/ui/useScroll/utilDOM\"));\n\nvar _utilEvent = _interopRequireDefault(require(\"@enact/ui/useScroll/utilEvent\"));\n\nvar _react = require(\"react\");\n\nvar _$L = _interopRequireDefault(require(\"../internal/$L\"));\n\nvar _SharedStateDecorator = require(\"../internal/SharedStateDecorator\");\n\nvar _useThemeScrollContentHandle = require(\"./useThemeScrollContentHandle\");\n\nvar _useEvent = require(\"./useEvent\");\n\nvar _useOverscrollEffect2 = _interopRequireDefault(require(\"./useOverscrollEffect\"));\n\nvar _useSpotlight = require(\"./useSpotlight\");\n\nvar _OverscrollEffectModule = _interopRequireDefault(require(\"./OverscrollEffect.module.css\"));\n\nvar _useScrollModule = _interopRequireDefault(require(\"./useScroll.module.css\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar arrowKeyMultiplier = 0.2,\n    affordanceSize = 48,\n    paginationPageMultiplier = _useScroll.constants.paginationPageMultiplier,\n    reverseDirections = {\n  down: 'up',\n  up: 'down'\n};\n/**\n * The name of a custom attribute which indicates the index of an item in\n * [VirtualList]{@link sandstone/VirtualList.VirtualList} or\n * [VirtualGridList]{@link sandstone/VirtualList.VirtualGridList}.\n *\n * @constant dataIndexAttribute\n * @memberof sandstone/useScroll\n * @type {String}\n * @private\n */\n\nexports.affordanceSize = affordanceSize;\nvar dataIndexAttribute = 'data-index';\nexports.dataIndexAttribute = dataIndexAttribute;\n\nvar isIntersecting = function isIntersecting(elem, container) {\n  return elem && (0, _utils.intersects)((0, _utils.getRect)(container), (0, _utils.getRect)(elem));\n};\n\nvar getIntersectingElement = function getIntersectingElement(elem, container) {\n  return isIntersecting(elem, container) && elem;\n};\n\nvar getTargetInViewByDirectionFromPosition = function getTargetInViewByDirectionFromPosition(direction, position, container) {\n  var target = (0, _target.getTargetByDirectionFromPosition)(direction, position, _spotlight[\"default\"].getActiveContainer());\n  return getIntersectingElement(target, container);\n};\n\nvar useThemeScroll = function useThemeScroll(props, instances) {\n  var scrollbarTrackCss = props.scrollbarTrackCss,\n      scrollMode = props.scrollMode;\n  var themeScrollContentHandle = instances.themeScrollContentHandle,\n      scrollContentRef = instances.scrollContentRef,\n      scrollContainerHandle = instances.scrollContainerHandle,\n      scrollContainerRef = instances.scrollContainerRef;\n  var contextSharedState = (0, _react.useContext)(_SharedStateDecorator.SharedState); // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    animateOnFocus: true,\n    indexToFocus: null,\n    isWheeling: false,\n    lastScrollPositionOnFocus: null,\n    nodeToFocus: null,\n    pointToFocus: null\n  }); // Hooks\n\n  (0, _useSpotlight.useSpotlightRestore)(props, instances);\n\n  var _useOverscrollEffect = (0, _useOverscrollEffect2[\"default\"])({}, instances),\n      applyOverscrollEffect = _useOverscrollEffect.applyOverscrollEffect,\n      checkAndApplyOverscrollEffectByDirection = _useOverscrollEffect.checkAndApplyOverscrollEffectByDirection,\n      clearOverscrollEffect = _useOverscrollEffect.clearOverscrollEffect;\n\n  var _useEventWheel = (0, _useEvent.useEventWheel)(props, _objectSpread(_objectSpread({}, instances), {}, {\n    spottable: mutableRef\n  })),\n      handleWheel = _useEventWheel.handleWheel;\n\n  var _useEventFocus = (0, _useEvent.useEventFocus)(props, _objectSpread(_objectSpread({}, instances), {}, {\n    spottable: mutableRef\n  })),\n      calculateAndScrollTo = _useEventFocus.calculateAndScrollTo,\n      handleFocus = _useEventFocus.handleFocus,\n      hasFocus = _useEventFocus.hasFocus;\n\n  var _useEventKey = (0, _useEvent.useEventKey)(props, _objectSpread(_objectSpread({}, instances), {}, {\n    spottable: mutableRef\n  }), {\n    checkAndApplyOverscrollEffectByDirection: checkAndApplyOverscrollEffectByDirection,\n    hasFocus: hasFocus,\n    isContent: isContent\n  }),\n      handleKeyDown = _useEventKey.handleKeyDown,\n      lastPointer = _useEventKey.lastPointer,\n      scrollByPageOnPointerMode = _useEventKey.scrollByPageOnPointerMode;\n\n  (0, _useEvent.useEventMonitor)({}, instances, {\n    lastPointer: lastPointer,\n    scrollByPageOnPointerMode: scrollByPageOnPointerMode\n  });\n\n  var _useEventMouse = (0, _useEvent.useEventMouse)({}, instances),\n      handleFlick = _useEventMouse.handleFlick,\n      handleMouseDown = _useEventMouse.handleMouseDown;\n\n  var _useEventTouch = (0, _useEvent.useEventTouch)(),\n      handleTouchStart = _useEventTouch.handleTouchStart;\n\n  var _useEventVoice = (0, _useEvent.useEventVoice)(props, instances),\n      addVoiceEventListener = _useEventVoice.addVoiceEventListener,\n      removeVoiceEventListener = _useEventVoice.removeVoiceEventListener,\n      stopVoice = _useEventVoice.stopVoice;\n\n  var scrollbarProps = {\n    cbAlertScrollbarTrack: alertScrollbarTrack,\n    onInteractionForScroll: onInteractionForScroll,\n    scrollbarTrackCss: scrollbarTrackCss\n  }; // Functions\n\n  function isContent(element) {\n    return element && _utilDOM[\"default\"].containsDangerously(scrollContentRef, element);\n  }\n\n  function scrollTo(opt) {\n    mutableRef.current.indexToFocus = opt.focus && typeof opt.index === 'number' ? opt.index : null;\n    mutableRef.current.nodeToFocus = opt.focus && opt.node instanceof Object && opt.node.nodeType === 1 ? opt.node : null;\n  }\n\n  function start(animate) {\n    if (scrollMode === 'native' && !animate) {\n      focusOnItem();\n    }\n  }\n\n  function stop() {\n    if (!props['data-spotlight-container-disabled']) {\n      themeScrollContentHandle.current.setContainerDisabled(false);\n    }\n\n    if (themeScrollContentHandle.current.pauseSpotlight) {\n      themeScrollContentHandle.current.pauseSpotlight(false);\n    }\n\n    focusOnItem();\n    mutableRef.current.lastScrollPositionOnFocus = null;\n    mutableRef.current.isWheeling = false;\n    stopVoice();\n  }\n\n  function scrollStopOnScroll() {\n    stop();\n  }\n\n  function onInteractionForScroll(_ref) {\n    var inputType = _ref.inputType,\n        isForward = _ref.isForward,\n        isPagination = _ref.isPagination,\n        isVerticalScrollBar = _ref.isVerticalScrollBar;\n    var wheelDirection = scrollContainerHandle.current.wheelDirection,\n        bounds = scrollContainerHandle.current.getScrollBounds(),\n        direction = isForward ? 1 : -1,\n        pageSize = isVerticalScrollBar ? bounds.clientHeight : bounds.clientWidth,\n        distance = pageSize * (isPagination ? paginationPageMultiplier : arrowKeyMultiplier);\n    scrollContainerHandle.current.lastInputType = inputType;\n\n    if (direction !== wheelDirection) {\n      scrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n      scrollContainerHandle.current.wheelDirection = direction;\n    }\n\n    scrollContainerHandle.current.scrollToAccumulatedTarget(direction * distance, isVerticalScrollBar, props.overscrollEffectOn[inputType]);\n  }\n\n  function alertScrollbarTrack() {\n    var bounds = scrollContainerHandle.current.getScrollBounds();\n    scrollContainerHandle.current.showScrollbarTrack(bounds);\n    scrollContainerHandle.current.startHidingScrollbarTrack();\n  }\n\n  function focusOnItem() {\n    if (mutableRef.current.indexToFocus !== null && typeof themeScrollContentHandle.current.focusByIndex === 'function') {\n      themeScrollContentHandle.current.focusByIndex(mutableRef.current.indexToFocus);\n      mutableRef.current.indexToFocus = null;\n    }\n\n    if (mutableRef.current.nodeToFocus !== null && typeof themeScrollContentHandle.current.focusOnNode === 'function') {\n      themeScrollContentHandle.current.focusOnNode(mutableRef.current.nodeToFocus);\n      mutableRef.current.nodeToFocus = null;\n    }\n\n    if (mutableRef.current.pointToFocus !== null) {\n      // no need to focus on pointer mode\n      if (!_spotlight[\"default\"].getPointerMode()) {\n        var _mutableRef$current$p = mutableRef.current.pointToFocus,\n            direction = _mutableRef$current$p.direction,\n            x = _mutableRef$current$p.x,\n            y = _mutableRef$current$p.y,\n            position = {\n          x: x,\n          y: y\n        },\n            elemFromPoint = document.elementFromPoint(x, y),\n            target = elemFromPoint && elemFromPoint.closest && getIntersectingElement(elemFromPoint.closest(\".\".concat(_Spottable.spottableClass)), scrollContainerRef.current) || getTargetInViewByDirectionFromPosition(direction, position, scrollContainerRef.current) || getTargetInViewByDirectionFromPosition(reverseDirections[direction], position, scrollContainerRef.current);\n\n        if (target) {\n          _spotlight[\"default\"].focus(target);\n        }\n      }\n\n      mutableRef.current.pointToFocus = null;\n    }\n  }\n\n  function handleScroll(ev) {\n    var x = ev.scrollLeft,\n        y = ev.scrollTop,\n        id = props.id;\n    (0, _handle.forward)('onScroll', ev, props);\n\n    if (id && contextSharedState && contextSharedState.set) {\n      contextSharedState.set(ev, props);\n      contextSharedState.set(\"\".concat(id, \".scrollPosition\"), {\n        x: x,\n        y: y\n      });\n    }\n  } // Callback for scroller updates; calculate and, if needed, scroll to new position based on focused item.\n\n\n  function handleScrollerUpdate() {\n    if (scrollContainerHandle.current.scrollToInfo === null) {\n      var scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\n      if (scrollHeight !== scrollContainerHandle.current.bounds.scrollHeight) {\n        calculateAndScrollTo();\n      }\n    } // oddly, Scroller manages scrollContainerHandle.current.bounds so if we don't update it here (it is also\n    // updated in calculateAndScrollTo but we might not have made it to that point), it will be\n    // out of date when we land back in this method next time.\n\n\n    scrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n  }\n\n  function handleResizeWindow() {\n    var focusedItem = _spotlight[\"default\"].getCurrent();\n\n    if (focusedItem) {\n      focusedItem.blur();\n    }\n  } // FIXME setting event handlers directly to work on the V8 snapshot.\n\n\n  function addEventListeners(ref) {\n    // `ref` is always `scrollContentRef`.\n    (0, _utilEvent[\"default\"])('focusin').addEventListener(ref, handleFocus);\n\n    if (ref.current) {\n      addVoiceEventListener(ref);\n    }\n  } // FIXME setting event handlers directly to work on the V8 snapshot.\n\n\n  function removeEventListeners(ref) {\n    // `ref` is always `scrollContentRef`.\n    (0, _utilEvent[\"default\"])('focusin').removeEventListener(ref, handleFocus);\n\n    if (ref.current) {\n      removeVoiceEventListener(ref);\n    }\n  } // Return\n\n\n  return {\n    addEventListeners: addEventListeners,\n    applyOverscrollEffect: applyOverscrollEffect,\n    clearOverscrollEffect: clearOverscrollEffect,\n    handleFlick: handleFlick,\n    handleKeyDown: handleKeyDown,\n    handleMouseDown: handleMouseDown,\n    handleResizeWindow: handleResizeWindow,\n    handleScroll: handleScroll,\n    handleScrollerUpdate: handleScrollerUpdate,\n    handleTouchStart: handleTouchStart,\n    handleWheel: handleWheel,\n    removeEventListeners: removeEventListeners,\n    scrollbarProps: scrollbarProps,\n    scrollStopOnScroll: scrollStopOnScroll,\n    scrollTo: scrollTo,\n    start: start,\n    stop: stop\n  };\n};\n/**\n * A custom hook that passes Sandstone-themed scrollable behavior information as its render prop.\n *\n * @class\n * @memberof sandstone/useScroll\n * @ui\n * @private\n */\n\n\nvar useScroll = function useScroll(props) {\n  var className = props.className,\n      spotlightContainer = props['data-spotlight-container'],\n      spotlightContainerDisabled = props['data-spotlight-container-disabled'],\n      spotlightId = props['data-spotlight-id'],\n      focusableScrollbar = props.focusableScrollbar,\n      fadeOut = props.fadeOut,\n      horizontalScrollThumbAriaLabel = props.horizontalScrollThumbAriaLabel,\n      noAffordance = props.noAffordance,\n      scrollMode = props.scrollMode,\n      snapToCenter = props.snapToCenter,\n      style = props.style,\n      verticalScrollThumbAriaLabel = props.verticalScrollThumbAriaLabel,\n      rest = _objectWithoutProperties(props, [\"className\", \"data-spotlight-container\", \"data-spotlight-container-disabled\", \"data-spotlight-id\", \"focusableScrollbar\", \"fadeOut\", \"horizontalScrollThumbAriaLabel\", \"noAffordance\", \"scrollMode\", \"snapToCenter\", \"style\", \"verticalScrollThumbAriaLabel\"]);\n\n  delete rest.scrollbarTrackCss; // Mutable value\n\n  var scrollContainerRef = (0, _react.useRef)();\n  var scrollContentHandle = (0, _react.useRef)();\n  var scrollContentRef = (0, _react.useRef)();\n  var itemRefs = (0, _react.useRef)([]);\n  var horizontalScrollbarHandle = (0, _react.useRef)();\n  var verticalScrollbarHandle = (0, _react.useRef)(); // Handles\n\n  var _useThemeScrollConten = (0, _useThemeScrollContentHandle.useThemeScrollContentHandle)(),\n      _useThemeScrollConten2 = _slicedToArray(_useThemeScrollConten, 2),\n      themeScrollContentHandle = _useThemeScrollConten2[0],\n      setThemeScrollContentHandle = _useThemeScrollConten2[1];\n\n  var scrollContainerHandle = (0, _react.useRef)({\n    animator: null,\n    applyOverscrollEffect: null,\n    bounds: null,\n    calculateDistanceByWheel: null,\n    canScrollHorizontally: null,\n    canScrollVertically: null,\n    checkAndApplyOverscrollEffect: null,\n    getScrollBounds: null,\n    isDragging: null,\n    isScrollAnimationTargetAccumulated: null,\n    lastInputType: null,\n    rtl: null,\n    scrollBounds: null,\n    scrollHeight: null,\n    scrolling: null,\n    scrollLeft: null,\n    scrollPos: null,\n    scrollTo: null,\n    scrollToAccumulatedTarget: null,\n    scrollToInfo: null,\n    scrollTop: null,\n    setOverscrollStatus: null,\n    showScrollbarTrack: null,\n    start: null,\n    startHidingScrollbarTrack: null,\n    stop: null,\n    wheelDirection: null\n  });\n\n  var setScrollContainerHandle = function setScrollContainerHandle(handle) {\n    scrollContainerHandle.current = handle;\n  }; // Hooks\n\n\n  var instance = {\n    // Ref\n    scrollContainerRef: scrollContainerRef,\n    scrollContentRef: scrollContentRef,\n    // Adapter\n    themeScrollContentHandle: themeScrollContentHandle,\n    scrollContainerHandle: scrollContainerHandle,\n    scrollContentHandle: scrollContentHandle\n  };\n  var collectionOfProperties = {},\n      assignProperties = (0, _useScroll.assignPropertiesOf)(collectionOfProperties),\n      scrollProps = {};\n\n  var _useThemeScroll = useThemeScroll(props, instance),\n      addEventListeners = _useThemeScroll.addEventListeners,\n      applyOverscrollEffect = _useThemeScroll.applyOverscrollEffect,\n      clearOverscrollEffect = _useThemeScroll.clearOverscrollEffect,\n      handleFlick = _useThemeScroll.handleFlick,\n      handleKeyDown = _useThemeScroll.handleKeyDown,\n      handleMouseDown = _useThemeScroll.handleMouseDown,\n      handleResizeWindow = _useThemeScroll.handleResizeWindow,\n      handleScroll = _useThemeScroll.handleScroll,\n      handleScrollerUpdate = _useThemeScroll.handleScrollerUpdate,\n      handleTouchStart = _useThemeScroll.handleTouchStart,\n      handleWheel = _useThemeScroll.handleWheel,\n      removeEventListeners = _useThemeScroll.removeEventListeners,\n      scrollbarProps = _useThemeScroll.scrollbarProps,\n      scrollStopOnScroll = _useThemeScroll.scrollStopOnScroll,\n      scrollTo = _useThemeScroll.scrollTo,\n      start = _useThemeScroll.start,\n      stop = _useThemeScroll.stop; // Render\n\n\n  if (scrollMode === 'translate') {\n    scrollProps.stop = stop;\n  } else {\n    scrollProps.scrollStopOnScroll = scrollStopOnScroll;\n    scrollProps.start = start;\n  }\n\n  var _useScrollBase = (0, _useScroll.useScrollBase)(_objectSpread(_objectSpread(_objectSpread({}, rest), scrollProps), {}, {\n    assignProperties: assignProperties,\n    noScrollByDrag: !_platform[\"default\"].touchscreen,\n    addEventListeners: addEventListeners,\n    applyOverscrollEffect: applyOverscrollEffect,\n    clearOverscrollEffect: clearOverscrollEffect,\n    handleResizeWindow: handleResizeWindow,\n    horizontalScrollbarHandle: horizontalScrollbarHandle,\n    onFlick: handleFlick,\n    onKeyDown: handleKeyDown,\n    onMouseDown: handleMouseDown,\n    onScroll: handleScroll,\n    onWheel: handleWheel,\n    removeEventListeners: removeEventListeners,\n    scrollTo: scrollTo,\n    setScrollContainerHandle: setScrollContainerHandle,\n    scrollMode: scrollMode,\n    scrollContentHandle: scrollContentHandle,\n    scrollContentRef: scrollContentRef,\n    scrollContainerRef: scrollContainerRef,\n    snapToCenter: snapToCenter,\n    spotlightContainerDisabled: spotlightContainerDisabled,\n    verticalScrollbarHandle: verticalScrollbarHandle\n  })),\n      isHorizontalScrollbarVisible = _useScrollBase.isHorizontalScrollbarVisible,\n      isVerticalScrollbarVisible = _useScrollBase.isVerticalScrollbarVisible,\n      scrollContentWrapper = _useScrollBase.scrollContentWrapper,\n      scrollObserver = _useScrollBase.scrollObserver;\n\n  assignProperties('scrollContainerProps', {\n    className: [className, _useScrollModule[\"default\"].scroll, _OverscrollEffectModule[\"default\"].scroll, focusableScrollbar ? _useScrollModule[\"default\"].focusableScrollbar : null, focusableScrollbar && isVerticalScrollbarVisible ? _useScrollModule[\"default\"].verticalPadding : null, isVerticalScrollbarVisible && isHorizontalScrollbarVisible ? _useScrollModule[\"default\"].bidirectional : null],\n    style: style,\n    'data-spotlight-container': spotlightContainer,\n    'data-spotlight-container-disabled': spotlightContainerDisabled,\n    'data-spotlight-id': spotlightId,\n    onTouchStart: handleTouchStart,\n    ref: scrollContainerRef\n  });\n  assignProperties('scrollContentProps', _objectSpread(_objectSpread({}, props.itemRenderer ? {\n    itemRefs: itemRefs,\n    noAffordance: noAffordance,\n    snapToCenter: snapToCenter\n  } : {\n    fadeOut: fadeOut\n  }), {}, {\n    className: [props.direction === 'both' || props.direction === 'vertical' ? _OverscrollEffectModule[\"default\"].vertical : _OverscrollEffectModule[\"default\"].horizontal, _useScrollModule[\"default\"].scrollContent],\n    onUpdate: handleScrollerUpdate,\n    scrollContainerRef: scrollContainerRef,\n    setThemeScrollContentHandle: setThemeScrollContentHandle,\n    spotlightId: spotlightId,\n    scrollContainerHandle: scrollContainerHandle,\n    scrollContentHandle: scrollContentHandle,\n    scrollContentRef: scrollContentRef\n  }));\n  assignProperties('horizontalScrollbarProps', _objectSpread(_objectSpread({}, scrollbarProps), {}, {\n    'aria-label': horizontalScrollThumbAriaLabel == null ? (0, _$L[\"default\"])('scroll left or right with left right button') : horizontalScrollThumbAriaLabel,\n    className: [_useScrollModule[\"default\"].horizontalScrollbar],\n    focusableScrollbar: focusableScrollbar,\n    scrollbarHandle: horizontalScrollbarHandle\n  }));\n  assignProperties('verticalScrollbarProps', _objectSpread(_objectSpread({}, scrollbarProps), {}, {\n    'aria-label': verticalScrollThumbAriaLabel == null ? (0, _$L[\"default\"])('scroll up or down with up down button') : verticalScrollThumbAriaLabel,\n    className: [_useScrollModule[\"default\"].verticalScrollbar],\n    focusableScrollbar: focusableScrollbar,\n    scrollbarHandle: verticalScrollbarHandle\n  }));\n  assignProperties('hoverToScrollProps', {\n    scrollContainerHandle: scrollContainerHandle,\n    scrollObserver: scrollObserver\n  });\n  return _objectSpread(_objectSpread({}, collectionOfProperties), {}, {\n    scrollContentWrapper: scrollContentWrapper,\n    scrollContentHandle: scrollContentHandle,\n    isHorizontalScrollbarVisible: isHorizontalScrollbarVisible,\n    isVerticalScrollbarVisible: isVerticalScrollbarVisible\n  });\n};\n\nexports.useScroll = useScroll;\nvar _default = useScroll;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"module"}