{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FloatingLayerContainer = exports[\"default\"] = void 0;\n\nvar _Registry = _interopRequireDefault(require(\"@enact/core/internal/Registry\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar FloatingLayerContainer = /*#__PURE__*/function () {\n  function FloatingLayerContainer(config) {\n    var _this = this;\n\n    _classCallCheck(this, FloatingLayerContainer);\n\n    this.getFloatingLayer = function () {\n      // FIXME: if a component that resides in the floating layer is rendered at the same time\n      // as the floating layer, this.floatingLayer may not have been initialized yet since\n      // componentDidMount runs inside-out. As a fallback, we search by id but this could\n      // introduce issues (e.g. for duplicate layer ids).\n      return _this.floatingLayer || typeof document !== 'undefined' && document.getElementById(_this.config.floatLayerId) || null;\n    };\n\n    this.handleNotify = function (_ref) {\n      var action = _ref.action;\n\n      if (action === 'register') {\n        _this.notifyMount();\n      } else if (action === 'closeAll') {\n        _this.handleCloseAll();\n      }\n    };\n\n    this.setFloatingLayer = function (node) {\n      _this.floatingLayer = node;\n    };\n\n    var floatLayerId = config.floatLayerId;\n    this.registry = _Registry[\"default\"].create(this.handleNotify);\n    this.floatingLayer = null;\n    this.config = {\n      floatLayerId: floatLayerId\n    };\n  }\n\n  _createClass(FloatingLayerContainer, [{\n    key: \"load\",\n    value: function load() {\n      this.notifyMount();\n    }\n  }, {\n    key: \"handleCloseAll\",\n    value: function handleCloseAll() {\n      this.registry.notify({\n        action: 'close'\n      });\n    }\n  }, {\n    key: \"notifyMount\",\n    value: function notifyMount() {\n      this.registry.notify({\n        action: 'mount',\n        floatingLayer: this.getFloatingLayer()\n      });\n    }\n  }]);\n\n  return FloatingLayerContainer;\n}();\n\nexports.FloatingLayerContainer = FloatingLayerContainer;\nvar _default = FloatingLayerContainer;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["C:/Users/tak43/remaking/node_modules/@enact/ui/FloatingLayer/FloatingLayerContainer.js"],"names":["Object","defineProperty","exports","value","FloatingLayerContainer","_Registry","_interopRequireDefault","require","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","config","_this","getFloatingLayer","floatingLayer","document","getElementById","floatLayerId","handleNotify","_ref","action","notifyMount","handleCloseAll","setFloatingLayer","node","registry","create","load","notify","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FloatingLayerContainer = exports[\"default\"] = void 0;\n\nvar _Registry = _interopRequireDefault(require(\"@enact/core/internal/Registry\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar FloatingLayerContainer = /*#__PURE__*/function () {\n  function FloatingLayerContainer(config) {\n    var _this = this;\n\n    _classCallCheck(this, FloatingLayerContainer);\n\n    this.getFloatingLayer = function () {\n      // FIXME: if a component that resides in the floating layer is rendered at the same time\n      // as the floating layer, this.floatingLayer may not have been initialized yet since\n      // componentDidMount runs inside-out. As a fallback, we search by id but this could\n      // introduce issues (e.g. for duplicate layer ids).\n      return _this.floatingLayer || typeof document !== 'undefined' && document.getElementById(_this.config.floatLayerId) || null;\n    };\n\n    this.handleNotify = function (_ref) {\n      var action = _ref.action;\n\n      if (action === 'register') {\n        _this.notifyMount();\n      } else if (action === 'closeAll') {\n        _this.handleCloseAll();\n      }\n    };\n\n    this.setFloatingLayer = function (node) {\n      _this.floatingLayer = node;\n    };\n\n    var floatLayerId = config.floatLayerId;\n    this.registry = _Registry[\"default\"].create(this.handleNotify);\n    this.floatingLayer = null;\n    this.config = {\n      floatLayerId: floatLayerId\n    };\n  }\n\n  _createClass(FloatingLayerContainer, [{\n    key: \"load\",\n    value: function load() {\n      this.notifyMount();\n    }\n  }, {\n    key: \"handleCloseAll\",\n    value: function handleCloseAll() {\n      this.registry.notify({\n        action: 'close'\n      });\n    }\n  }, {\n    key: \"notifyMount\",\n    value: function notifyMount() {\n      this.registry.notify({\n        action: 'mount',\n        floatingLayer: this.getFloatingLayer()\n      });\n    }\n  }]);\n\n  return FloatingLayerContainer;\n}();\n\nexports.FloatingLayerContainer = FloatingLayerContainer;\nvar _default = FloatingLayerContainer;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"module"}