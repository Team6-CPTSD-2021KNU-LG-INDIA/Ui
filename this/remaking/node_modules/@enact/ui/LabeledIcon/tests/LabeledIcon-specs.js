"use strict";

var _enzyme = require("enzyme");

var _LabeledIcon = _interopRequireDefault(require("../LabeledIcon"));

var _Icon = _interopRequireDefault(require("../../Icon"));

var _LabeledIconModule = _interopRequireDefault(require("../LabeledIcon.module.css"));

var _jsxRuntime = require("react/jsx-runtime");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var iconName = 'anIconName';
var iconLabel = 'A real label';

var iconComponent = function iconComponent(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
    children: children
  });
};

describe('LabeledIcon Specs', function () {
  test('should insert the icon source into the icon when using the prop approach', function () {
    var labeledIcon = (0, _enzyme.mount)( /*#__PURE__*/(0, _jsxRuntime.jsx)(_LabeledIcon["default"], {
      icon: iconName,
      iconComponent: iconComponent,
      children: iconLabel
    }));
    var expected = iconName;
    var actual = labeledIcon.find(".".concat(_LabeledIconModule["default"].icon)).first().text();
    expect(actual).toBe(expected);
  });
  test('should insert the icon source into the icon slot element', function () {
    var labeledIcon = (0, _enzyme.mount)( /*#__PURE__*/(0, _jsxRuntime.jsxs)(_LabeledIcon["default"], {
      iconComponent: iconComponent,
      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)("icon", {
        children: iconName
      }), iconLabel]
    }));
    var expected = iconName;
    var actual = labeledIcon.find(".".concat(_LabeledIconModule["default"].icon)).first().text();
    expect(actual).toBe(expected);
  });
  test('should insert custom icon components into the icon slot', function () {
    var labeledIcon = (0, _enzyme.mount)( /*#__PURE__*/(0, _jsxRuntime.jsxs)(_LabeledIcon["default"], {
      iconComponent: iconComponent,
      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)("icon", {
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon["default"], {
          children: iconName
        })
      }), iconLabel]
    }));
    var expected = 1;
    var actual = labeledIcon.find(_Icon["default"]);
    expect(actual).toHaveLength(expected);
  });
  test('should return a DOM node reference for `componentRef`', function () {
    var ref = jest.fn();
    (0, _enzyme.mount)( /*#__PURE__*/(0, _jsxRuntime.jsx)(_LabeledIcon["default"], {
      ref: ref,
      iconComponent: iconComponent,
      icon: iconName
    }));
    var expected = 'DIV';
    var actual = ref.mock.calls[0][0].nodeName;
    expect(actual).toBe(expected);
  });
});